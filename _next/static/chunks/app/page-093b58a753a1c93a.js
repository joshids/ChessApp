(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6514:function(e,t,a){Promise.resolve().then(a.bind(a,4094))},4094:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return B}});var r=a(7437),l=a(2265),n=a(6443),s=a(521);let o={white:{default:[255,255,255]},gray:{100:[243,244,246],200:[229,231,235],300:[209,213,219],400:[156,163,175]},amber:{50:[255,251,235],100:[254,243,199],800:[133,77,14],900:[113,63,18]},stone:{100:[245,245,244],200:[231,229,228],600:[87,83,78],700:[68,64,60]},green:{100:[220,252,231],200:[187,247,208],700:[21,128,61],800:[22,101,52]},blue:{100:[219,234,254],200:[191,219,254],700:[29,78,216],800:[30,64,175]},purple:{100:[243,232,255],200:[233,213,255],700:[126,34,206],800:[107,33,168]}};function i(e,t){let a=(t?e.board.darkSquare:e.board.lightSquare).split(" ");return function(e){let t=e.replace("dark:","").trim().match(/^bg-(white|gray|amber|stone|green|blue|purple)(?:-(\d+))?$/);if(!t)return null;let[,a,r]=t;if("white"===a)return o.white.default;let l=r||"500",n=o[a];if(!n)return null;if(n[l])return n[l];let s=Object.keys(n);return s.length>0?n[s[0]]:null}(a.find(e=>e.startsWith("bg-")&&!e.startsWith("dark:"))||a[0])||[128,128,128]}function c(e){let{square:t,piece:a,pieceColor:n,isLight:o,skin:c,children:d,isSourceSquare:u=!1,isDestinationSquare:x=!1,isSelected:g=!1,isValidMove:h=!1,onClick:m}=e,p="".concat(o?c.board.lightSquare:c.board.darkSquare),b=(0,l.useRef)(null),f=(0,l.useRef)(!1);return(0,r.jsxs)(s.E.div,{layout:!0,"data-square":t,"data-source":u?"true":"false","data-destination":x?"true":"false",className:"\n        w-full h-full\n        flex items-center justify-center\n        text-xl sm:text-2xl md:text-4xl\n        select-none\n        ".concat(p,"\n        transition-colors duration-200\n        relative\n        ").concat(m?"cursor-pointer":"","\n      "),style:{...(()=>{if(g){console.log("[ChessSquare] getHighlightStyle - ".concat(t," is selected, applying blue border"));let[e,a,r]=i(c,o),l={backgroundImage:"repeating-linear-gradient(\n          45deg,\n          rgba(".concat(e,", ").concat(a,", ").concat(r,", 0.6),\n          rgba(").concat(e,", ").concat(a,", ").concat(r,", 0.6) 8px,\n          rgba(").concat(e,", ").concat(a,", ").concat(r,", 0.4) 8px,\n          rgba(").concat(e,", ").concat(a,", ").concat(r,", 0.4) 16px\n        )"),boxShadow:"inset 0 0 0 2px rgba(59, 130, 246, 0.8)"};return console.log("[ChessSquare] getHighlightStyle - ".concat(t," returning selected style:"),l),l}if(("e2"===t||"e4"===t||"e7"===t||"e5"===t||g)&&console.log("[ChessSquare] getHighlightStyle - ".concat(t," isSelected:"),g,"will return style with boxShadow:",g?"YES (blue border)":"NO"),u||x){let[e,t,a]=i(c,o),r=u?.4:.5,l=u?.2:.3;return{backgroundImage:"repeating-linear-gradient(\n          45deg,\n          rgba(".concat(e,", ").concat(t,", ").concat(a,", ").concat(r,"),\n          rgba(").concat(e,", ").concat(t,", ").concat(a,", ").concat(r,") 10px,\n          rgba(").concat(e,", ").concat(t,", ").concat(a,", ").concat(l,") 10px,\n          rgba(").concat(e,", ").concat(t,", ").concat(a,", ").concat(l,") 20px\n        )"),boxShadow:"none"}}if(h)return{position:"relative",boxShadow:"none"};let e={backgroundImage:"none",boxShadow:"none"};return("e2"===t||"e4"===t||"e7"===t||"e5"===t)&&console.log("[ChessSquare] getHighlightStyle - ".concat(t," returning default style (no selection):"),e),e})(),touchAction:"manipulation"},whileHover:{scale:m?1.05:1},whileTap:{scale:m?.95:1},initial:{opacity:0},animate:{opacity:1},transition:{layout:{duration:.4,ease:[.4,0,.2,1]},opacity:{duration:.2}},onTouchStart:e=>{b.current=Date.now(),f.current=!1;let t=e.touches[0];t&&(e.currentTarget.dataset.touchStartX=t.clientX.toString(),e.currentTarget.dataset.touchStartY=t.clientY.toString())},onTouchEnd:e=>{let a=b.current?Date.now()-b.current:1/0,r=e.currentTarget,l=parseFloat(r.dataset.touchStartX||"0"),n=parseFloat(r.dataset.touchStartY||"0"),s=e.changedTouches[0],o=s?Math.sqrt(Math.pow(s.clientX-l,2)+Math.pow(s.clientY-n,2)):1/0;a<300&&o<10&&!f.current&&m&&(f.current=!0,console.log("[ChessSquare] Square touched:",t,"onClick handler exists:",!!m),e.preventDefault(),m(t)),b.current=null,delete r.dataset.touchStartX,delete r.dataset.touchStartY},onClick:e=>{if(f.current){e.preventDefault(),f.current=!1;return}console.log("[ChessSquare] Square clicked:",t,"onClick handler exists:",!!m),null==m||m(t)},children:[h&&!a&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"w-2 h-2 sm:w-3 sm:h-3 md:w-4 md:h-4 rounded-full bg-blue-500 dark:bg-blue-400 opacity-60"})}),h&&a&&(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:(0,r.jsx)("div",{className:"w-full h-full rounded-full border-2 border-blue-500 dark:border-blue-400 opacity-60"})}),d||a&&(0,r.jsx)("span",{className:"white"===n?"".concat(c.pieces.whitePiece," ").concat(c.pieces.whitePieceShadow||""):"".concat(c.pieces.blackPiece," ").concat(c.pieces.blackPieceShadow||""),children:a})]})}function d(e){return{x:e[0].charCodeAt(0)-97,y:8-parseInt(e[1])}}let u={log:()=>{},info:()=>{}};function x(e){let{piece:t,pieceColor:a,skin:n,square:o,pieceType:i,isMoving:c=!1,fromSquare:x,animationSpeed:g}=e,h=(()=>{if(!c||!x)return null;let e=d(x),t=d(o),a=window.innerWidth>=768?64:48;return{x:(e.x-t.x)*a,y:(e.y-t.y)*a}})();(0,l.useEffect)(()=>{if(c&&x&&h){let e=0===g?0:5e4/g,t=Date.now();if(u.log("[AnimatedPiece] \uD83C\uDFAC Animation STARTED at ".concat(t,":"),{from:x,to:o,speed:"".concat(g,"%"),transitionDuration:"".concat((50/g).toFixed(3),"s"),expectedDurationMs:"".concat(e.toFixed(2),"ms"),offset:h}),g>0){let a=t+e;u.log("[AnimatedPiece] ⏱️ Expected animation to complete at: ".concat(a," (in ").concat(e,"ms)")),setTimeout(()=>{let e=Date.now();u.log("[AnimatedPiece] ✅ Animation completed at ".concat(e,", took ").concat(e-t,"ms (expected ").concat(a-t,"ms)"))},e+50)}}},[c,x,o,g,h]);let m=c&&x?"".concat(i,"-").concat(a,"-").concat(x,"-").concat(o):"".concat(i,"-").concat(a,"-").concat(o);return(0,r.jsx)(s.E.span,{className:"white"===a?"".concat(n.pieces.whitePiece," ").concat(n.pieces.whitePieceShadow||""):"".concat(n.pieces.blackPiece," ").concat(n.pieces.blackPieceShadow||""),initial:!!h&&{x:h.x,y:h.y},animate:{x:0,y:0},transition:(()=>{if(0===g)return u.log("[AnimatedPiece] Transition: Instant (speed: 0%)"),{duration:0};let e=50/g;return u.log("[AnimatedPiece] Transition config:",{speed:"".concat(g,"%"),baseDuration:"".concat(.5,"s"),calculatedDuration:"".concat(e.toFixed(3),"s"),durationMs:"".concat((1e3*e).toFixed(0),"ms")}),{type:"tween",duration:e,ease:[.25,.1,.25,1]}})(),style:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",zIndex:c?20:10},children:t},m)}let g=["a","b","c","d","e","f","g","h"],h=["8","7","6","5","4","3","2","1"];function m(e){let{fen:t,skin:a,previousFen:n,lastMove:s,animationSpeed:o,selectedSquare:i,validMoves:d=[],onSquareClick:u}=e,m=e=>{let t=[],a=e.split(" ")[0].split("/");for(let e=0;e<8;e++){let r=a[e],l=0;for(let a of r)if(a>="1"&&a<="8"){let r=parseInt(a);for(let a=0;a<r;a++){let a=g[l]+h[e],r=(e+l)%2==0;t.push({square:a,piece:null,color:r?"light":"dark"}),l++}}else{let r=g[l]+h[e],n=(e+l)%2==0;t.push({square:r,piece:a,color:n?"light":"dark"}),l++}}return t},p=(0,l.useMemo)(()=>m(t),[t]),b=(0,l.useMemo)(()=>n?m(n):null,[n]),f=(0,l.useMemo)(()=>{if(!s||!b)return null;let e=b.find(e=>e.square===s.from);return e&&e.piece?{piece:e.piece,from:s.from,to:s.to}:null},[s,b]),w=e=>e&&({P:"♙",p:"♟",R:"♖",r:"♜",N:"♘",n:"♞",B:"♗",b:"♝",Q:"♕",q:"♛",K:"♔",k:"♚"})[e]||"",k=e=>e?e===e.toUpperCase()?"white":"black":null;return(0,r.jsxs)("div",{className:"flex flex-col items-center w-full",children:[(0,r.jsxs)("div",{className:"flex mb-1 w-full",children:[(0,r.jsx)("div",{className:"w-6 md:w-16 flex-shrink-0"}),(0,r.jsx)("div",{className:"flex-1 grid grid-cols-8",children:g.map(e=>(0,r.jsx)("div",{className:"text-center text-xs md:text-sm font-semibold text-gray-700 dark:text-gray-300",children:e},e))}),(0,r.jsx)("div",{className:"w-6 md:w-16 flex-shrink-0"})]}),(0,r.jsxs)("div",{className:"flex w-full",children:[(0,r.jsx)("div",{className:"flex flex-col justify-around pr-1 w-6 md:w-16 flex-shrink-0",children:h.map(e=>(0,r.jsx)("div",{className:"h-full flex items-center text-xs md:text-sm font-semibold text-gray-700 dark:text-gray-300",children:e},e))}),(0,r.jsx)("div",{className:"flex-1 aspect-square max-w-full",children:(0,r.jsx)("div",{className:"grid grid-cols-8 grid-rows-8 h-full w-full border-4 border-gray-800 dark:border-gray-600 shadow-lg relative",children:p.map((e,t)=>{let{square:l,piece:n,color:g}=e,h=w(n),m=k(n);return(0,r.jsx)(c,{square:l,piece:h,pieceColor:m,isLight:"light"===g,skin:a,isSourceSquare:null!=s&&s.from===l,isDestinationSquare:null!=s&&s.to===l,isSelected:(()=>{let e=null!=i&&i===l;return(l===i||"e2"===l||"e4"===l||"e7"===l||"e5"===l)&&console.log("[ChessBoard] Square ".concat(l," isSelected:"),e,"selectedSquare:",i),e})(),isValidMove:d&&d.includes(l),onClick:u,children:h&&m&&n&&(0,r.jsx)(x,{piece:h,pieceColor:m,skin:a,square:l,pieceType:n,isMoving:(null==f?void 0:f.piece)===n&&(null==f?void 0:f.to)===l,fromSquare:(null==f?void 0:f.from)===l?l:void 0,animationSpeed:o},"".concat(n,"-").concat(m,"-").concat(l,"-").concat((null==f?void 0:f.from)||"","-").concat((null==f?void 0:f.to)||""))},"".concat(l,"-").concat(a.id))})})}),(0,r.jsx)("div",{className:"flex flex-col justify-around pl-1 w-6 md:w-16 flex-shrink-0",children:h.map(e=>(0,r.jsx)("div",{className:"h-full flex items-center text-xs md:text-sm font-semibold text-gray-700 dark:text-gray-300",children:e},e))})]}),(0,r.jsxs)("div",{className:"flex mt-1 w-full",children:[(0,r.jsx)("div",{className:"w-6 md:w-16 flex-shrink-0"}),(0,r.jsx)("div",{className:"flex-1 grid grid-cols-8",children:g.map(e=>(0,r.jsx)("div",{className:"text-center text-xs md:text-sm font-semibold text-gray-700 dark:text-gray-300",children:e},e))}),(0,r.jsx)("div",{className:"w-6 md:w-16 flex-shrink-0"})]})]})}function p(e){let{onMove:t,disabled:a,error:n}=e,[o,i]=(0,l.useState)("");return(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Make a Move"}),(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),o.trim()&&!a&&(t(o.trim()),i(""))},className:"space-y-3",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("input",{type:"text",value:o,onChange:e=>i(e.target.value),placeholder:"e.g., e2e4, Nf3, O-O, Qd1h5",disabled:a,className:"\n              w-full px-4 py-2 rounded-lg border-2\n              bg-white dark:bg-slate-600\n              text-gray-900 dark:text-white\n              placeholder-gray-500 dark:placeholder-gray-400\n              focus:outline-none focus:ring-2 focus:ring-blue-500\n              disabled:opacity-50 disabled:cursor-not-allowed\n              font-mono text-sm\n              ".concat(n?"border-red-500":"border-gray-300 dark:border-gray-500","\n            ")}),n&&(0,r.jsx)(s.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 text-sm text-red-600 dark:text-red-400",children:n})]}),(0,r.jsx)("button",{type:"submit",disabled:a||!o.trim(),className:"\n            w-full py-2 px-4 rounded-lg font-semibold\n            transition-all duration-200\n            ".concat(a||!o.trim()?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 active:scale-95","\n            text-white\n          "),children:a?"Game Over":"Make Move"})]}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"Notation Examples:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,r.jsx)("li",{children:"Long: e2e4, d7d5"}),(0,r.jsx)("li",{children:"Short: Nf3, Bb5, Qd1"}),(0,r.jsx)("li",{children:"Castling: O-O, O-O-O"}),(0,r.jsx)("li",{children:"Capture: exd5, Nxe5"}),(0,r.jsx)("li",{children:"Check: Qh5+, Nf3#"})]})]})]})}function b(e){let{isCheck:t,isCheckmate:a,isStalemate:l,isDraw:n,currentTurn:o}=e,i=a?{text:"Checkmate! ".concat("w"===o?"Black":"White"," wins!"),color:"text-red-600 dark:text-red-400",bg:"bg-red-50 dark:bg-red-900/20"}:l?{text:"Stalemate! The game is a draw.",color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-50 dark:bg-yellow-900/20"}:n?{text:"Draw!",color:"text-yellow-600 dark:text-yellow-400",bg:"bg-yellow-50 dark:bg-yellow-900/20"}:t?{text:"Check! ".concat("w"===o?"White":"Black"," is in check."),color:"text-orange-600 dark:text-orange-400",bg:"bg-orange-50 dark:bg-orange-900/20"}:null;return i?(0,r.jsx)(s.E.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{type:"spring",stiffness:300,damping:20},className:"".concat(i.bg," ").concat(i.color," rounded-lg p-3 text-center font-semibold"),children:i.text}):null}function f(e){let{onReplay:t,onStop:a,isReplaying:n,disabled:s}=e,[o,i]=(0,l.useState)(""),[c,d]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{n||d(!1)},[n]),(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Replay Mode"}),(0,r.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),o.trim()&&!s&&!n){let e=o.split(/[,\s\n]+/).map(e=>e.trim()).filter(e=>e.length>0);e.length>0&&(d(!0),t(e))}},className:"space-y-3",children:[(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{value:o,onChange:e=>i(e.target.value),placeholder:"Enter moves separated by commas or spaces e.g., e2e4 e7e5 Nf3 Nc6 Bb5",disabled:s||n,rows:4,className:"\n              w-full px-4 py-2 rounded-lg border-2\n              bg-white dark:bg-slate-600\n              text-gray-900 dark:text-white\n              placeholder-gray-500 dark:placeholder-gray-400\n              focus:outline-none focus:ring-2 focus:ring-blue-500\n              disabled:opacity-50 disabled:cursor-not-allowed\n              font-mono text-sm\n              resize-none\n            "})}),n?(0,r.jsx)("button",{type:"button",onClick:()=>{d(!1),a()},className:"w-full py-2 px-4 rounded-lg font-semibold bg-red-600 hover:bg-red-700 text-white transition-all duration-200 active:scale-95",children:"Stop Replay"}):(0,r.jsx)("button",{type:"submit",disabled:s||!o.trim()||n,className:"\n              w-full py-2 px-4 rounded-lg font-semibold\n              transition-all duration-200\n              ".concat(s||!o.trim()||n?"bg-gray-400 dark:bg-gray-600 cursor-not-allowed":"bg-green-600 hover:bg-green-700 active:scale-95","\n              text-white\n            "),children:"Start Replay"})]}),(0,r.jsxs)("div",{className:"mt-4 text-xs text-gray-600 dark:text-gray-400",children:[(0,r.jsx)("p",{className:"font-semibold mb-1",children:"Instructions:"}),(0,r.jsxs)("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[(0,r.jsx)("li",{children:"Enter multiple moves separated by spaces or commas"}),(0,r.jsx)("li",{children:"Moves will be played automatically"}),(0,r.jsx)("li",{children:'Click "Stop Replay" to pause'})]})]})]})}var w=a(2746);function k(e){let{selectedSkin:t,onSkinChange:a}=e;return(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Board & Piece Skins"}),(0,r.jsx)("div",{className:"grid grid-cols-2 gap-2",children:w.g6.map(e=>(0,r.jsxs)(s.E.button,{onClick:()=>a(e),className:"\n              p-3 rounded-lg border-2 transition-all duration-200\n              ".concat(t.id===e.id?"border-blue-600 bg-blue-50 dark:bg-blue-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-slate-600 hover:border-blue-400","\n            "),whileHover:{scale:1.02},whileTap:{scale:.98},children:[(0,r.jsx)("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-1",children:e.name}),(0,r.jsxs)("div",{className:"flex gap-1 justify-center",children:[(0,r.jsx)("div",{className:"w-4 h-4 rounded ".concat(e.board.lightSquare)}),(0,r.jsx)("div",{className:"w-4 h-4 rounded ".concat(e.board.darkSquare)})]}),(0,r.jsxs)("div",{className:"flex gap-1 justify-center mt-1",children:[(0,r.jsx)("span",{className:"text-xs ".concat(e.pieces.whitePiece),children:"♔"}),(0,r.jsx)("span",{className:"text-xs ".concat(e.pieces.blackPiece),children:"♚"})]})]},e.id))})]})}let y={Q:5,q:5,R:4,r:4,B:3,b:3,N:2,n:2,P:1,p:1},v={P:"♙",p:"♟",R:"♖",r:"♜",N:"♘",n:"♞",B:"♗",b:"♝",Q:"♕",q:"♛",K:"♔",k:"♚"};function j(e){let{capturedPieces:t,color:a,skin:l}=e,n=[...t].sort((e,t)=>{let a=y[e]||0,r=y[t]||0;return a!==r?r-a:e.localeCompare(t)}),s={};for(let e of n)s[e]=(s[e]||0)+1;let o=e=>e===e.toUpperCase()?"".concat(l.pieces.whitePiece," ").concat(l.pieces.whitePieceShadow||""):"".concat(l.pieces.blackPiece," ").concat(l.pieces.blackPieceShadow||"");return 0===n.length?(0,r.jsx)("div",{className:"min-h-[3rem] flex items-center justify-center text-gray-400 dark:text-gray-600 text-sm",children:"No pieces lost"}):(0,r.jsx)("div",{className:"flex flex-wrap items-center gap-1 min-h-[3rem] p-2 bg-slate-50 dark:bg-slate-800 rounded-lg border border-gray-200 dark:border-gray-700",children:Object.entries(s).map(e=>{let[t,a]=e;return(0,r.jsxs)("div",{className:"flex items-center gap-1",title:"".concat(a>1?"".concat(a,"x "):"").concat(t.toUpperCase()),children:[(0,r.jsx)("span",{className:"text-xl md:text-2xl ".concat(o(t)),children:v[t]}),a>1&&(0,r.jsx)("span",{className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:a})]},t)})})}function S(e){if("Gold Enhanced"===e)return{firstColor:"Gold",secondColor:"Silver"};let t=e.split(" & ");return 2===t.length?{firstColor:t[0].trim(),secondColor:t[1].trim()}:{firstColor:"White",secondColor:"Black"}}function _(e){let{firstColor:t}=S(e.pieces.name);return"".concat(t,"'s Lost Pieces:")}function N(e){let{secondColor:t}=S(e.pieces.name);return"".concat(t,"'s Lost Pieces:")}var C=a(7648),q=a(8614);function P(e){let{isOpen:t,onClose:a,side:n,children:o,title:i}=e,c=(0,l.useRef)(null),d=(0,l.useRef)(null),[u,x]=(0,l.useState)(!1),[g,h]=(0,l.useState)(0);(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[t,a]),(0,l.useEffect)(()=>(t?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[t]);let m="right"===n;return(0,l.useEffect)(()=>{if(t){let e=Math.min(.85*window.innerWidth,320);document.documentElement.style.setProperty("--drawer-width","".concat(e,"px"))}},[t]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q.M,{children:t&&(0,r.jsx)(s.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:a})}),(0,r.jsx)(q.M,{children:t&&(0,r.jsxs)(s.E.div,{ref:c,initial:{x:m?"100%":"-100%"},animate:{x:u?g:0},exit:{x:m?"100%":"-100%"},transition:{type:"spring",stiffness:300,damping:30},className:"\n              fixed top-0 bottom-0 z-50\n              ".concat(m?"right-0":"left-0","\n              w-[85vw] max-w-[320px]\n              bg-white dark:bg-slate-800\n              shadow-2xl\n              md:hidden\n              flex flex-col\n            "),style:{width:"min(85vw, 320px)"},onTouchStart:e=>{let t=e.touches[0];d.current={x:t.clientX,y:t.clientY,time:Date.now()},x(!0)},onTouchMove:e=>{if(!d.current||!t)return;let a=e.touches[0],r=a.clientX-d.current.x;Math.abs(r)>Math.abs(a.clientY-d.current.y)&&Math.abs(r)>10&&(e.preventDefault(),"right"===n?r<0&&h(r):r>0&&h(r))},onTouchEnd:()=>{d.current&&(Math.abs(g)>100&&a(),h(0),x(!1),d.current=null)},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[i&&(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:i}),(0,r.jsx)("button",{onClick:a,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors","aria-label":"Close drawer",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-gray-600 dark:text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:o})]})})]})}function M(e){let{message:t,type:a="info",isVisible:n,onClose:o,duration:i=4e3}=e;return(0,l.useEffect)(()=>{if(n&&i>0){let e=setTimeout(()=>{o()},i);return()=>clearTimeout(e)}},[n,i,o]),(0,r.jsx)(q.M,{children:n&&(0,r.jsx)(s.E.div,{initial:{opacity:0,y:-50,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{type:"spring",stiffness:300,damping:25},className:"\n            fixed top-4 left-1/2 transform -translate-x-1/2 z-50\n            px-4 py-3 rounded-lg shadow-lg border\n            max-w-[90vw] md:max-w-md\n            ".concat({info:"bg-blue-50 dark:bg-blue-900/20 text-blue-800 dark:text-blue-200 border-blue-200 dark:border-blue-800",warning:"bg-yellow-50 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-200 border-yellow-200 dark:border-yellow-800",error:"bg-red-50 dark:bg-red-900/20 text-red-800 dark:text-red-200 border-red-200 dark:border-red-800",success:"bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-200 border-green-200 dark:border-green-800"}[a],"\n          "),children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:t}),(0,r.jsx)("button",{onClick:o,className:"ml-2 p-1 rounded hover:bg-black/10 dark:hover:bg-white/10 transition-colors","aria-label":"Close notification",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})})})}function E(e){let{moveHistory:t,capturedWhite:a,capturedBlack:l,skin:n,isCheck:s,isCheckmate:o,isStalemate:i,isDraw:c,currentTurn:d}=e;return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Game Status"}),(0,r.jsx)(b,{isCheck:s,isCheckmate:o,isStalemate:i,isDraw:c,currentTurn:d})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[N(n)," - Captured Pieces"]}),(0,r.jsx)(j,{capturedPieces:l,color:"black",skin:n})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[_(n)," - Captured Pieces"]}),(0,r.jsx)(j,{capturedPieces:a,color:"white",skin:n})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Move History"}),(0,r.jsx)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-3 max-h-64 overflow-y-auto",children:0===t.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No moves yet"}):(0,r.jsx)("div",{className:"text-sm font-mono space-y-1",children:t.map((e,a)=>(0,r.jsxs)("div",{className:"text-gray-700 dark:text-gray-300 py-1",children:[Math.floor(a/2)+1,". ",a%2==0?"":t[a-1]+" ",e]},a))})})]})]})}function T(){let[e]=(0,l.useState)(()=>new n.qQ),[t,a]=(0,l.useState)(e.fen()),[s,o]=(0,l.useState)(void 0),[i,c]=(0,l.useState)(null),[d,x]=(0,l.useState)([]),[g,h]=(0,l.useState)(null),[y,v]=(0,l.useState)(!1),[S,q]=(0,l.useState)(!1),T=(0,l.useRef)(null),B=(0,l.useRef)(null),[I,D]=(0,l.useState)([]),[O,R]=(0,l.useState)([]),[W,L]=(0,l.useState)(w.i_),[G,F]=(0,l.useState)(!1),[A,H]=(0,l.useState)(100),[X,Y]=(0,l.useState)(null),[Q,z]=(0,l.useState)([]),[U,V]=(0,l.useState)(!1),[K,$]=(0,l.useState)(!1),[J,Z]=(0,l.useState)(null),[ee,et]=(0,l.useState)("info"),[ea,er]=(0,l.useState)(!1);(0,l.useEffect)(()=>{F(!0);let e=localStorage.getItem("chess-skin");if(e){let t=(0,w.pX)(e);t&&L(t)}let t=localStorage.getItem("chess-animation-speed");if(t){let e=parseInt(t,10);!isNaN(e)&&e>=0&&e<=200&&H(e)}},[]);let el=(0,l.useCallback)(e=>{u.log("[ChessGame] Animation speed changed to: ".concat(e,"%")),H(e),localStorage.setItem("chess-animation-speed",e.toString())},[]),en=(0,l.useCallback)(e=>{L(e),localStorage.setItem("chess-skin",e.id)},[]),es=(0,l.useCallback)(r=>{if(!y)try{h(null);let l=e.move(r);if(!l){h("Invalid move. Please use standard chess notation (e.g., e2e4, Nf3, O-O).");return}if(a(e.fen()),x(t=>[...t,e.history({verbose:!1}).slice(-1)[0]||r]),c({from:l.from,to:l.to}),console.log("[SquareSelection] Clearing selection after move",{moveFrom:l.from,moveTo:l.to,previousSelection:X}),u.info("[SquareSelection] Clearing selection after move",{moveFrom:l.from,moveTo:l.to,previousSelection:X}),Y(null),z([]),console.log("[SquareSelection] State updated - selectedSquare cleared"),l.captured){let e=l.captured,t=l.color,a="w"===t?e:e.toUpperCase();u.log("[Capture] Move: ".concat(l.san,', captured: "').concat(l.captured,'", capturingColor: "').concat(t,'", converted: "').concat(a,'"')),a===a.toUpperCase()&&a!==a.toLowerCase()?D(e=>{let t=[...e,a];return u.log("[Capture] White captured list updated:",t),t}):R(e=>{let t=[...e,a];return u.log("[Capture] Black captured list updated:",t),t})}o(t),setTimeout(()=>{o(void 0)},600)}catch(e){h(e instanceof Error?e.message:"Invalid move notation")}},[e,t,y,X]),eo=(0,l.useCallback)(t=>{if(console.log("[SquareSelection] handleSquareClick called",{square:t,isReplaying:y,isGameOver:e.isGameOver(),currentSelectedSquare:X}),y||e.isGameOver()){console.log("[SquareSelection] Early return - replaying or game over");return}let a=e.get(t),r=e.turn();if(console.log("[SquareSelection] Piece info",{square:t,piece:a?{type:a.type,color:a.color}:null,currentTurn:r}),X){if(X===t){u.info("[SquareSelection] Deselecting square",{square:t,previousSelection:X}),console.log("[SquareSelection] Deselecting square",{square:t,previousSelection:X}),Y(null),z([]);return}if(Q.includes(t)){let e="".concat(X).concat(t);u.info("[SquareSelection] Making move from selected square",{from:X,to:t,moveNotation:e}),es(e);return}if(a&&("w"===a.color&&"w"===r||"b"===a.color&&"b"===r)){let l=e.moves({square:t,verbose:!0}),n=[];for(let t of l){let a=e.get(t.to);a?("w"===r&&"b"===a.color||"b"===r&&"w"===a.color)&&n.push(t.to):n.push(t.to)}u.info("[SquareSelection] Changing selection to new piece",{previousSquare:X,newSquare:t,piece:a.type,pieceColor:a.color,validMoves:n,validMoveCount:n.length}),Y(t),z(n);return}u.info("[SquareSelection] Clearing selection (invalid click)",{previousSelection:X,clickedSquare:t}),Y(null),z([]);return}if(a&&("w"===a.color&&"w"===r||"b"===a.color&&"b"===r)){let l=e.moves({square:t,verbose:!0}),n=[];for(let t of l){let a=e.get(t.to);a?("w"===r&&"b"===a.color||"b"===r&&"w"===a.color)&&n.push(t.to):n.push(t.to)}u.info("[SquareSelection] Selecting square with piece",{square:t,piece:a.type,pieceColor:a.color,currentTurn:r,validMoves:n,validMoveCount:n.length}),console.log("[SquareSelection] Selecting square with piece",{square:t,piece:a.type,pieceColor:a.color,currentTurn:r,validMoves:n,validMoveCount:n.length}),Y(t),z(n)}else u.info("[SquareSelection] Clicked empty square or opponent piece, no selection",{square:t,hasPiece:!!a,pieceColor:null==a?void 0:a.color,currentTurn:r}),Y(null),z([])},[X,Q,e,y,es]),ei=(0,l.useCallback)(()=>{T.current&&(clearTimeout(T.current),T.current=null),v(!1),q(!1),B.current=null,e.reset(),a(e.fen()),x([]),h(null),D([]),R([]),c(null),X&&u.info("[SquareSelection] Clearing selection on game reset",{previousSelection:X}),Y(null),z([])},[e,X]),ec=(0,l.useCallback)(t=>{T.current&&clearTimeout(T.current);let r=new n.qQ;B.current=r,v(!0),h(null),e.reset(),a(e.fen()),x([]),D([]),R([]),c(null),Y(null),z([]);let l=0,s=()=>{if(l>=t.length||!B.current){v(!1),B.current=null;return}try{let o=t[l],i=r.move(o);if(!i){h("Invalid move at position ".concat(l+1,": ").concat(o)),v(!1),B.current=null;return}let d=[],u=[],g=new n.qQ;for(let e=0;e<=l;e++){let a=g.move(t[e]);if(null==a?void 0:a.captured){let e=a.captured,t=a.color,r="w"===t?e:e.toUpperCase();r===r.toUpperCase()&&r!==r.toLowerCase()?d.push(r):u.push(r)}}D(d),R(u),e.load(r.fen()),a(e.fen()),x(r.history({verbose:!1})),c({from:i.from,to:i.to}),l++,T.current=setTimeout(s,800)}catch(e){h("Error at move ".concat(l+1,": ").concat(e instanceof Error?e.message:"Invalid move")),v(!1),B.current=null}};s()},[e]),ed=(0,l.useCallback)(()=>{T.current&&(clearTimeout(T.current),T.current=null),v(!1),B.current=null},[]);(0,l.useEffect)(()=>()=>{T.current&&clearTimeout(T.current)},[]);let eu=e.isGameOver(),ex=e.isCheck(),eg=e.isCheckmate(),eh=e.isStalemate(),em=e.isDraw(),ep=e.turn();return(0,l.useEffect)(()=>{eg?(Z("Checkmate! ".concat("w"===ep?"Black":"White"," wins!")),et("error"),er(!0)):eh?(Z("Stalemate! The game is a draw."),et("warning"),er(!0)):em?(Z("Draw!"),et("warning"),er(!0)):ex&&(Z("Check! ".concat("w"===ep?"White":"Black"," is in check.")),et("warning"),er(!0))},[ex,eg,eh,em,ep]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(M,{message:J||"",type:ee,isVisible:ea,onClose:()=>er(!1),duration:eg||eh||em?6e3:3e3}),(0,r.jsxs)("div",{className:"md:hidden fixed inset-0 bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white/10 dark:bg-slate-800/10 backdrop-blur-sm",children:[(0,r.jsx)("button",{onClick:()=>$(!0),className:"p-2 rounded-lg bg-white/20 dark:bg-slate-700/20 hover:bg-white/30 dark:hover:bg-slate-700/30 transition-colors","aria-label":"Open menu",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("h1",{className:"text-lg font-bold text-white",children:"Chess Game"}),(0,r.jsx)(C.default,{href:"/help",className:"p-1.5 rounded-lg bg-white/20 dark:bg-slate-700/20 hover:bg-white/30 dark:hover:bg-slate-700/30 transition-colors",title:"Help & Instructions","aria-label":"Help & Instructions",children:(0,r.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)("button",{onClick:()=>V(!0),className:"p-2 rounded-lg bg-white/20 dark:bg-slate-700/20 hover:bg-white/30 dark:hover:bg-slate-700/30 transition-colors","aria-label":"Open game info",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})})]}),(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center p-2 overflow-hidden transition-transform duration-300 ease-out",style:{transform:U?"translateX(calc(-1 * min(85vw, 320px)))":K?"translateX(min(85vw, 320px))":"translateX(0)"},children:(0,r.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,r.jsx)("div",{className:"w-full max-w-full aspect-square",children:(0,r.jsx)(m,{fen:t,skin:W,previousFen:s,lastMove:i,animationSpeed:A,selectedSquare:X,validMoves:Q,onSquareClick:eo})})})}),(0,r.jsx)("div",{className:"p-3 bg-white/10 dark:bg-slate-800/10 backdrop-blur-sm text-center",children:(0,r.jsxs)("p",{className:"text-sm text-white",children:["Current turn: ",(0,r.jsx)("span",{className:"font-semibold",children:"w"===e.turn()?"White":"Black"})]})})]}),(0,r.jsx)("div",{className:"hidden md:block bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 lg:p-8 max-w-6xl w-full",children:(0,r.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-center text-gray-900 dark:text-white",children:"Chess Game"}),(0,r.jsx)(C.default,{href:"/help",className:"inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-400 hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",title:"Help & Instructions","aria-label":"Help & Instructions",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsxs)("p",{className:"text-center text-gray-600 dark:text-gray-400 text-sm",children:["Current turn: ",(0,r.jsx)("span",{className:"font-semibold",children:"w"===e.turn()?"White":"Black"})]})]}),(0,r.jsxs)("div",{className:"mb-2",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:N(W)}),(0,r.jsx)(j,{capturedPieces:O,color:"black",skin:W})]}),(0,r.jsx)(m,{fen:t,skin:W,previousFen:s,lastMove:i,animationSpeed:A,selectedSquare:X,validMoves:Q,onSquareClick:eo}),(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("div",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1",children:_(W)}),(0,r.jsx)(j,{capturedPieces:I,color:"white",skin:W})]}),(0,r.jsx)("div",{className:"mt-4",children:(0,r.jsx)(b,{isCheck:ex,isCheckmate:eg,isStalemate:eh,isDraw:em,currentTurn:e.turn()})})]}),(0,r.jsxs)("div",{className:"lg:w-80 space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2 mb-2",children:[(0,r.jsx)("button",{onClick:()=>q(!1),className:"flex-1 py-2 px-4 rounded-lg font-semibold transition-colors duration-200 ".concat(S?"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300":"bg-blue-600 text-white"),children:"Play"}),(0,r.jsx)("button",{onClick:()=>q(!0),className:"flex-1 py-2 px-4 rounded-lg font-semibold transition-colors duration-200 ".concat(S?"bg-blue-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:"Replay"})]}),S?(0,r.jsx)(f,{onReplay:ec,onStop:ed,isReplaying:y,disabled:eu}):(0,r.jsx)(p,{onMove:es,disabled:eu||y,error:g}),(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:"Move History"}),(0,r.jsx)("div",{className:"max-h-64 overflow-y-auto space-y-1",children:0===d.length?(0,r.jsx)("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"No moves yet"}):(0,r.jsx)("div",{className:"text-sm font-mono",children:d.map((e,t)=>(0,r.jsxs)("div",{className:"text-gray-700 dark:text-gray-300 py-1",children:[Math.floor(t/2)+1,". ",t%2==0?"":d[t-1]+" ",e]},t))})})]}),(0,r.jsx)(k,{selectedSkin:W,onSkinChange:en}),(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Animation Speed"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Speed"}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[A,"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"200",step:"10",value:A,onChange:e=>el(parseInt(e.target.value,10)),className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-600",style:{background:"linear-gradient(to right, rgb(37, 99, 235) 0%, rgb(37, 99, 235) ".concat(A/200*100,"%, rgb(229, 231, 235) ").concat(A/200*100,"%, rgb(229, 231, 235) 100%)")}}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("span",{children:"0%"}),(0,r.jsx)("span",{children:"100%"}),(0,r.jsx)("span",{children:"200%"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:0===A?"Instant (no animation)":A<100?"Slower":100===A?"Normal speed":"Faster"})]})]}),(0,r.jsx)("button",{onClick:ei,className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200",children:"Reset Game"})]})]})}),(0,r.jsx)(P,{isOpen:U,onClose:()=>V(!1),side:"right",title:"Game Information",children:(0,r.jsx)(E,{moveHistory:d,capturedWhite:I,capturedBlack:O,skin:W,isCheck:ex,isCheckmate:eg,isStalemate:eh,isDraw:em,currentTurn:e.turn()})}),(0,r.jsx)(P,{isOpen:K,onClose:()=>$(!1),side:"left",title:"Settings & Controls",children:(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>{q(!1),$(!1)},className:"flex-1 py-2 px-4 rounded-lg font-semibold transition-colors duration-200 ".concat(S?"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300":"bg-blue-600 text-white"),children:"Play"}),(0,r.jsx)("button",{onClick:()=>{q(!0),$(!1)},className:"flex-1 py-2 px-4 rounded-lg font-semibold transition-colors duration-200 ".concat(S?"bg-blue-600 text-white":"bg-gray-300 dark:bg-gray-600 text-gray-700 dark:text-gray-300"),children:"Replay"})]}),S?(0,r.jsx)(f,{onReplay:ec,onStop:ed,isReplaying:y,disabled:eu}):(0,r.jsx)(p,{onMove:es,disabled:eu||y,error:g}),(0,r.jsx)(k,{selectedSkin:W,onSkinChange:en}),(0,r.jsxs)("div",{className:"bg-slate-100 dark:bg-slate-700 rounded-lg p-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Animation Speed"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsx)("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:"Speed"}),(0,r.jsxs)("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[A,"%"]})]}),(0,r.jsx)("input",{type:"range",min:"0",max:"200",step:"10",value:A,onChange:e=>el(parseInt(e.target.value,10)),className:"w-full h-2 bg-gray-200 dark:bg-gray-600 rounded-lg appearance-none cursor-pointer accent-blue-600",style:{background:"linear-gradient(to right, rgb(37, 99, 235) 0%, rgb(37, 99, 235) ".concat(A/200*100,"%, rgb(229, 231, 235) ").concat(A/200*100,"%, rgb(229, 231, 235) 100%)")}}),(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400",children:[(0,r.jsx)("span",{children:"0%"}),(0,r.jsx)("span",{children:"100%"}),(0,r.jsx)("span",{children:"200%"})]}),(0,r.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-2",children:0===A?"Instant (no animation)":A<100?"Slower":100===A?"Normal speed":"Faster"})]})]}),(0,r.jsx)("button",{onClick:()=>{ei(),$(!1)},className:"w-full bg-red-600 hover:bg-red-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors duration-200",children:"Reset Game"})]})})]})}function B(){return(0,r.jsx)("main",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center p-4",children:(0,r.jsx)(T,{})})}},2746:function(e,t,a){"use strict";a.d(t,{g6:function(){return n},i_:function(){return o},pX:function(){return s}});let r=[{id:"classic",name:"Classic",lightSquare:"bg-white dark:bg-gray-100",darkSquare:"bg-gray-300 dark:bg-gray-400"},{id:"wood",name:"Wood",lightSquare:"bg-amber-50 dark:bg-amber-100",darkSquare:"bg-amber-800 dark:bg-amber-900"},{id:"marble",name:"Marble",lightSquare:"bg-stone-100 dark:bg-stone-200",darkSquare:"bg-stone-600 dark:bg-stone-700"},{id:"green",name:"Green",lightSquare:"bg-green-100 dark:bg-green-200",darkSquare:"bg-green-700 dark:bg-green-800"},{id:"blue",name:"Blue",lightSquare:"bg-blue-100 dark:bg-blue-200",darkSquare:"bg-blue-700 dark:bg-blue-800"},{id:"purple",name:"Purple",lightSquare:"bg-purple-100 dark:bg-purple-200",darkSquare:"bg-purple-700 dark:bg-purple-800"}],l=[{id:"yellow-black",name:"Yellow & Black",whitePiece:"text-yellow-500",blackPiece:"text-gray-900",whitePieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",blackPieceShadow:"drop-shadow-[0_1px_2px_rgba(255,255,255,0.3)]"},{id:"white-black",name:"White & Black",whitePiece:"text-white",blackPiece:"text-gray-900",whitePieceShadow:"drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",blackPieceShadow:"drop-shadow-[0_1px_2px_rgba(255,255,255,0.3)]"},{id:"gold-silver",name:"Gold & Silver",whitePiece:"text-yellow-400",blackPiece:"text-gray-400",whitePieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",blackPieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]"},{id:"red-blue",name:"Red & Blue",whitePiece:"text-red-600",blackPiece:"text-blue-700",whitePieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",blackPieceShadow:"[text-shadow:_-1px_-1px_0_rgb(255,255,255),_1px_-1px_0_rgb(255,255,255),_-1px_1px_0_rgb(255,255,255),_1px_1px_0_rgb(255,255,255)] drop-shadow-[0_2px_4px_rgba(255,255,255,0.8)]"},{id:"orange-teal",name:"Orange & Teal",whitePiece:"text-orange-500",blackPiece:"text-teal-700",whitePieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]",blackPieceShadow:"[text-shadow:_-1px_-1px_0_rgb(255,255,255),_1px_-1px_0_rgb(255,255,255),_-1px_1px_0_rgb(255,255,255),_1px_1px_0_rgb(255,255,255)] drop-shadow-[0_2px_4px_rgba(255,255,255,0.8)]"}],n=[{id:"classic-yellow",name:"Classic Yellow",board:r[0],pieces:l[0]},{id:"wood-white",name:"Wood White",board:r[1],pieces:l[1]},{id:"marble-gold",name:"Marble Gold",board:r[2],pieces:{id:"gold-marble-enhanced",name:"Gold Enhanced",whitePiece:"text-amber-600",blackPiece:"text-gray-400",whitePieceShadow:"drop-shadow-[0_3px_6px_rgba(0,0,0,1),0_0_4px_rgba(0,0,0,1)]",blackPieceShadow:"[text-shadow:_-1px_-1px_0_rgb(0,0,0),_1px_-1px_0_rgb(0,0,0),_-1px_1px_0_rgb(0,0,0),_1px_1px_0_rgb(0,0,0)] drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]"}},{id:"green-red-blue",name:"Green Red/Blue",board:r[3],pieces:l[3]},{id:"blue-orange-teal",name:"Blue Orange/Teal",board:r[4],pieces:l[4]},{id:"purple-gold",name:"Purple Gold",board:r[5],pieces:l[2]}];function s(e){return n.find(t=>t.id===e)}function o(){return n[0]}}},function(e){e.O(0,[648,673,971,117,744],function(){return e(e.s=6514)}),_N_E=e.O()}]);